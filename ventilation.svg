<svg version="1.1" viewBox="0 0 190 100"
    xmlns="http://www.w3.org/2000/svg">

    <style>

    :root {
        background: #202024;
        user-select: none;
        --left-x: 2px;
        --right-x: 164px;
        --top-y: 22px;
        --bottom-y: 82px;
        --red: #e56172;
    }

    .temperature {
        font: 5px 'Segoe UI', sans-serif;
    }

    .white {
        fill: #fafafb;
    }

    .opacity-80 {
        opacity: .8;
    }

    .red {
        fill: var(--red);
    }

    .channel {
        fill: url(#channel-fill);
        stroke-linejoin: round;
        stroke-width: 2px;
        transition: clip-path .25s ease-out;
    }

    .fresh-channel {
        clip-path: polygon(
            0%   0%,
            33%  0%,
            73%  75%,
            95%  75%,
            100% 87.5%,
            95%  100%,
            70%  100%,
            30%  25%,
            0%   25%,
            5%   12.5%
        );
    }

    .exhaust-channel {
        clip-path: polygon(
            0% 87.5%,
            5% 75%,
            30% 75%,
            70% 0%,
            100% 0%,
            95% 12.5%,
            100% 25%,
            73% 25%,
            33% 100%,
            5% 100%
        );
    }

    .bypass .fresh-channel {
        clip-path: polygon(
            0% 75%,
            30% 75%,
            70% 75%,
            95% 75%,
            100% 87.5%,
            95% 100%,
            73% 100%,
            33% 100%,
            0% 100%,
            5% 87.5%
        );
    }

    .bypass .exhaust-channel {
        clip-path: polygon(
            0% 12.5%,
            5% 0%,
            33% 0%,
            73% 0%,
            100% 0%,
            95% 12.5%,
            100% 25%,
            70% 25%,
            30% 25%,
            5% 25%
        );
    }

    .warmer-outside .channel {
        fill: url(#channel-fill-warmer-outside);
    }

    .bypass .bypass-hidden, .bypass-visible {
        display: none;
    }

    .bypass .bypass-visible {
        display: block;
    }

    .preheater-visible {
        display: none;
        opacity: 0;
    }

    .preheater .preheater-visible {
        display: block;
        opacity: 1;
        transition: opacity .3s ease-in;
    }

    .exhaust-in {
        transform: translate(var(--right-x), var(--top-y));
        transition: transform .25s ease-out;
    }

    .exhaust-treated, .bypass .fresh-in {
        transform: translate(var(--left-x), var(--bottom-y));
        transition: transform .25s ease-out;
    }

    .fresh-in, .bypass .exhaust-treated {
        transform: translate(var(--left-x), var(--top-y));
        transition: transform .25s ease-out;
    }

    .fresh-treated {
        transform: translate(var(--right-x), var(--bottom-y));
        transition: transform .25s ease-out;
    }

    </style>

    <script href="ventilation.js"></script>

    <defs>
        <linearGradient id="channel-fill" x1="0" y1="0" x2="190" y2="0" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#56cbf1" />
            <stop offset="0.14285714285714285" stop-color="#66bdfa" />
            <stop offset="0.2857142857142857" stop-color="#8bacf8" />
            <stop offset="0.42857142857142855" stop-color="#b297e7" />
            <stop offset="0.5714285714285714" stop-color="#d181c9" />
            <stop offset="0.7142857142857142" stop-color="#e36da0" />
            <stop offset="0.8571428571428571" stop-color="#e56172" />
            <stop offset="1" stop-color="#d56243" />
        </linearGradient>

        <linearGradient id="channel-fill-warmer-outside" x1="190" y1="0" x2="0" y2="0" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#56cbf1" />
            <stop offset="0.14285714285714285" stop-color="#66bdfa" />
            <stop offset="0.2857142857142857" stop-color="#8bacf8" />
            <stop offset="0.42857142857142855" stop-color="#b297e7" />
            <stop offset="0.5714285714285714" stop-color="#d181c9" />
            <stop offset="0.7142857142857142" stop-color="#e36da0" />
            <stop offset="0.8571428571428571" stop-color="#e56172" />
            <stop offset="1" stop-color="#d56243" />
        </linearGradient>

        <g id="radiator" transform="scale(.02)">
            <g transform="translate(-280 -340)" class="red">
                <path d="M160,0H96C84.218,0,74.667,9.551,74.667,21.333v21.333H32c-11.782,0-21.333,9.551-21.333,21.333v64
				c0,11.782,9.551,21.333,21.333,21.333h42.667v213.333H32c-11.782,0-21.333,9.551-21.333,21.333v64
				c0,11.782,9.551,21.333,21.333,21.333h42.667v21.333C74.667,502.449,84.218,512,96,512h64c11.782,0,21.333-9.551,21.333-21.333
				V21.333C181.333,9.551,171.782,0,160,0z M53.333,106.667V85.333h21.333v21.333H53.333z M53.333,426.667v-21.333h21.333v21.333
				H53.333z M138.667,469.333h-21.333V448v-64V128V64V42.667h21.333V469.333z"/>
                <path d="M288,0h-64c-11.782,0-21.333,9.551-21.333,21.333v469.333c0,11.782,9.551,21.333,21.333,21.333h64
				c11.782,0,21.333-9.551,21.333-21.333V21.333C309.333,9.551,299.782,0,288,0z M266.667,469.333h-21.333V42.667h21.333V469.333z" />
                <path d="M480,149.333c11.782,0,21.333-9.551,21.333-21.333V64c0-11.782-9.551-21.333-21.333-21.333h-42.667V21.333
				C437.333,9.551,427.782,0,416,0h-64c-11.782,0-21.333,9.551-21.333,21.333v469.333c0,11.782,9.551,21.333,21.333,21.333h64
				c11.782,0,21.333-9.551,21.333-21.333v-21.333H480c11.782,0,21.333-9.551,21.333-21.333v-64c0-11.782-9.551-21.333-21.333-21.333
				h-42.667V149.333H480z M458.667,85.333v21.333h-21.333V85.333H458.667z M394.667,469.333h-21.333V42.667h21.333V64v64v256v64
				V469.333z M458.667,405.333v21.333h-21.333v-21.333H458.667z"/>
            </g>
        </g>
    </defs>

    <rect class="channel fresh-channel" x="10" y="10" width="170" height="80" />
    <rect class="channel exhaust-channel" x="10" y="10" width="170" height="80" />

    <g class="fresh-in">
        <g>
            <title>Incoming fresh air temperature</title>
            <text class="temperature white" x="12" y="0" text-anchor="end">
                <tspan id="fresh-in">14</tspan> °C
            </text>
        </g>
        <g transform="translate(24,0)" class="preheater-visible">
            <title>Preheater temperature</title>
            <use href="#radiator" x="0" y="0" />
            <text class="temperature white" x="6" y="0">
                <tspan id="preheater">60</tspan> °C
            </text>
        </g>
    </g>

    <g class="fresh-treated">
        <title>Treated fresh air temperature</title>
        <text class="temperature" x="10" y="0" text-anchor="end">
            <tspan id="fresh-treated">19</tspan> °C
        </text>
    </g>

    <g class="exhaust-treated">
        <title>Treated exhaust temperature</title>
        <text class="temperature" x="24" y="0" text-anchor="end">
            <tspan id="exhaust-treated">14</tspan> °C
        </text>
    </g>

    <g class="exhaust-in">
        <title>Incoming exhaust temperature</title>
        <text class="temperature white" x="24" y="0" text-anchor="end">
            <tspan id="exhaust-in">24</tspan> °C
        </text>
    </g>

</svg>